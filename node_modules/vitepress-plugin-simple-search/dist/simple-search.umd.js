(function(a,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("fs-extra"),require("glob"),require("gray-matter")):typeof define=="function"&&define.amd?define(["exports","fs-extra","glob","gray-matter"],l):(a=typeof globalThis<"u"?globalThis:a||self,l(a.SearchPlugin={},a["fs-extra"],a.glob,a.matter))})(this,function(a,l,g,b){"use strict";const d=e=>e&&typeof e=="object"&&"default"in e?e:{default:e};function h(e){if(e&&e.__esModule)return e;const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:()=>e[r]})}}return n.default=e,Object.freeze(n)}const m=h(l),y=d(l),S=d(g),v=d(b);let t={baseURL:"",regexForContentStripping:/[^a-zA-Z0-9._ ]+/g,preambleTransformer:void 0};function x(e){return t={...t,...e},t&&t.baseURL&&t.baseURL.length>=1&&t.baseURL.charAt(t.baseURL.length-1)==="/"&&(t.baseURL=t.baseURL.slice(0,t.baseURL.length-1)),t.partialsToIgnore||(t.partialsToIgnore=[]),t}function p(){return t}function _(e){const n=p();return typeof n.regexForContentStripping>"u"?e:e.replace(n.regexForContentStripping,"").toLowerCase()}async function L(e,n=void 0){const r=S.default.sync(`${e}/**/*.md`.replace(/\\/gm,"/")),i=[],s=p();for(let o of r){if(o.includes("node_modules")||s.partialsToIgnore&&s.partialsToIgnore.length>=1&&s.partialsToIgnore.findIndex(R=>o.includes(R))!==-1)continue;const u=m.readFileSync(o).toString(),c=v.default(u);let f;typeof n<"u"?f=n(c.data):f=c.data,typeof f.title>"u"&&console.warn(`${o} does not have a 'title' for building search index.`);const I=s.baseURL?s.baseURL:"";i.push({title:f.title,content:_(c.content),link:o.replace(/.*docs/gm,I).replace(".md","")})}return i}function w(e){const n=x(e);let r;const i="virtual:simple-search",s="\0"+i;return{name:"simple-search",enforce:"pre",configResolved(o){r=o},config:()=>({resolve:{alias:{"./VPNavBarSearch.vue":"vitepress-plugin-simple-search/Search.vue"}}}),resolveId(o){if(o===i)return s},async load(o){if(o===s){const u=n.docsPath?n.docsPath:r.root;if(!y.default.existsSync(u))throw console.warn(`File Pathway: ${u} does not exist. Search could not be built.`),console.warn("Try 'process.cwd() + your folder'"),new Error("Docs pathway could not be found.");const c=await L(r.root,e.preambleTransformer);return`const regexForContentStripping = ${n.regexForContentStripping};
const data =`+JSON.stringify(c)+`;
export default { data, regexForContentStripping };`}}}}a.SimpleSearch=w,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
